<div [formGroup]="form" class="form-group mb-3">

  <div [ngSwitch]="formField.controlType">

    <div *ngSwitchCase="'prenume'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <input class="form-control" [formControlName]="formField.key" [id]="formField.key" [type]="formField.type"
             [placeholder]="formField.placeholder"
             [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.minlength">Lungimea minimă este de {{nameControl.errors?.minlength.requiredLength}} caractere, mai sunt necesare {{nameControl.errors?.minlength.requiredLength - nameControl.errors?.minlength.actualLength}} caractere</div>
      </div>
    </div>

    <div *ngSwitchCase="'nume'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <input class="form-control" [formControlName]="formField.key" [id]="formField.key" [type]="formField.type"
             [placeholder]="formField.placeholder"
             [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.minlength">Lungimea minimă este de {{nameControl.errors?.minlength.requiredLength}} caractere, mai sunt necesare {{nameControl.errors?.minlength.requiredLength - nameControl.errors?.minlength.actualLength}} caractere </div>
      </div>
    </div>

    <div *ngSwitchCase="'telefon'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <input class="form-control" [formControlName]="formField.key" [id]="formField.key" [type]="formField.type"
             [placeholder]="formField.placeholder" (keypress)="onlyNumbers($event)"
             [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.minlength && !nameControl.errors?.pattern">Minim 10 cifre</div>
        <div *ngIf="nameControl.errors?.maxlength && !nameControl.errors?.pattern">Maxim 10 cifre</div>
        <div *ngIf="nameControl.errors?.pattern">Exclusiv cifre</div>
      </div>
    </div>

    <div *ngSwitchCase="'email'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <input class="form-control" [formControlName]="formField.key" [id]="formField.key" [type]="formField.type"
             [placeholder]="formField.placeholder"
             [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.email">E-mailul trebuie să fie o adresă de e-mail validă</div>
      </div>
    </div>

    <div *ngSwitchCase="'nascut'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <input class="form-control" [formControlName]="formField.key" [id]="formField.key" [type]="formField.type"
             [placeholder]="formField.placeholder"
             [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.pattern">Data nașterii trebuie să fie o dată validă, în formatul ZZ-LL-AAAA
        </div>
      </div>
    </div>

    <div *ngSwitchCase="'functie'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <input class="form-control" list="datalistOptions" [formControlName]="formField.key" [type]="formField.type"
             [placeholder]="formField.placeholder"
             [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
      <datalist id="datalistOptions">
        <option *ngFor="let datalist of formField.datalists" [value]="datalist.value">
      </datalist>
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.pattern">Sunt permise doar caractere din aflabet și caracterele speciale /
          ( )
        </div>
      </div>
    </div>

    <div *ngSwitchCase="'oras'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <select class="form-select" [id]="formField.key" [formControlName]="formField.key"
              [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
        <option selected disabled value="">Alege...</option>
        <option *ngFor="let opt of formField.options" [value]="opt.key">{{opt.value}}</option>
      </select>
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
      </div>
    </div>

    <div *ngSwitchCase="'observatii'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <textarea class="form-control" [formControlName]="formField.key" [id]="formField.key" [placeholder]="formField.placeholder" rows="2"
                [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }"></textarea>
      <div class="invalid-feedback">
        <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        <div *ngIf="nameControl.errors?.minlength">Lungimea minimă este
          de {{nameControl.errors?.minlength.requiredLength}} caractere,
          mai sunt
          necesare {{nameControl.errors?.minlength.requiredLength - nameControl.errors?.minlength.actualLength}}
          caractere
        </div>
      </div>
    </div>

    <div *ngSwitchCase="'tipApel'">
      <label class="form-label pt-0" [attr.for]="formField.key">{{formField.label}}</label>
      <div class="form-check" *ngFor="let opt of formField.options">
        <input class="form-check-input" type="radio" [formControlName]="formField.key" [id]="formField.key" [value]="opt.key"
               [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
        <label class="form-check-label" [attr.for]="opt.key"> {{ opt.value }} </label>
        <div class="invalid-feedback">
          <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        </div>
      </div>
    </div>

    <div *ngSwitchCase="'gdpr'">
      <label class="form-label" [attr.for]="formField.key">{{formField.label}}</label>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" [formControlName]="formField.key" [id]="formField.key"
               [ngClass]="{ 'is-invalid': nameControl.errors && (nameControl.touched || nameControl.dirty || isSubmitted), 'is-valid': nameControl.valid }">
        <label class="form-check-label" [attr.for]="formField.key">{{ formField.checkLabel }}</label>
        <div class="invalid-feedback">
          <div *ngIf="nameControl.errors?.required">{{formField.validatorRequiredMessage}}</div>
        </div>
      </div>
    </div>

  </div>

</div>
